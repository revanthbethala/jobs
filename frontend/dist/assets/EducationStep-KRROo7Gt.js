import{e as B,ac as $,j as e,m as I,C as j,D as g,ad as z,B as r,ae as T,E as b,af as Y,L as l,$ as v,a0 as f,a1 as N,a2 as y,aK as P,a3 as w,I as i,aL as U,t as V,o as D}from"./index-B6peOCw_.js";import{u as F}from"./ProfileForm-VuOrXFuP.js";import{e as G}from"./profileSchema-BSuZFTwb.js";import{G as M}from"./graduation-cap-C9o7p5bm.js";import"./profileService-BNGQwc4A.js";const H=D({education:G});function J(){const{tempEducation:u,updateEducation:S,setCurrentStep:m}=F(),o=B({resolver:V(H),defaultValues:{education:u.length?u:[{id:Date.now().toString(),educationalLevel:"",institution:"",specialization:"",boardOrUniversity:"",percentage:0,passedOutYear:Number(new Date().getFullYear()),location:"",noOfActiveBacklogs:0}]}}),{control:O,handleSubmit:C,register:c,watch:h,formState:{errors:s}}=o,{fields:x,append:k,remove:A}=$({control:O,name:"education"}),E=d=>{S(d.education),m(3)},L=()=>m(1);return e.jsx(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:e.jsx("form",{onSubmit:C(E),children:e.jsxs(j,{className:"w-full max-w-6xl mx-auto",children:[e.jsx(g,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs(z,{className:"text-2xl font-bold flex items-center gap-2 text-brand-blue-dark",children:[e.jsx(M,{className:"w-6 h-6"}),e.jsx("span",{children:"Education Information"})]}),e.jsxs(r,{type:"button",onClick:()=>k({id:Date.now().toString(),educationalLevel:"",institution:"",specialization:"",boardOrUniversity:"",percentage:0,passedOutYear:new Date().getFullYear(),location:"",noOfActiveBacklogs:0}),className:"bg-brand-blue-light hover:bg-brand-blue-dark",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Add Education"]})]})}),e.jsxs(b,{className:"space-y-6 px-4 sm:px-6 lg:px-8 pb-8",children:[x.map((d,a)=>{const n=h(`education.${a}.educationalLevel`),p=U[n]||[];return e.jsxs(j,{className:"border-l-4 border-l-brand-blue-light bg-white",children:[e.jsxs(g,{className:"pb-2 flex justify-between items-center ",children:[e.jsxs("h3",{className:"text-lg font-semibold text-brand-blue-dark",children:["Education Entry ",a+1]}),x.length>1&&e.jsx(r,{type:"button",variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>A(a),children:e.jsx(Y,{className:"w-4 h-4"})})]}),e.jsxs(b,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Educational Level"}),e.jsxs(v,{value:n,onValueChange:t=>o.setValue(`education.${a}.educationalLevel`,t),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Select level"})}),e.jsx(y,{children:P.map(t=>e.jsx(w,{value:t,children:t},t))})]}),s.education?.[a]?.educationalLevel&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].educationalLevel?.message})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Institution"}),e.jsx(i,{...c(`education.${a}.institution`),placeholder:"Institution name"}),s.education?.[a]?.institution&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].institution?.message})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Specialization"}),e.jsxs(v,{disabled:!n||p.length===0,value:h(`education.${a}.specialization`),onValueChange:t=>o.setValue(`education.${a}.specialization`,t),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Select specialization"})}),e.jsx(y,{children:p.map(t=>e.jsx(w,{value:t,children:t},t))})]}),s.education?.[a]?.specialization&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].specialization?.message})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Board/University"}),e.jsx(i,{...c(`education.${a}.boardOrUniversity`)}),s.education?.[a]?.boardOrUniversity&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].boardOrUniversity?.message})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Percentage"}),e.jsx(i,{type:"number",...c(`education.${a}.percentage`,{valueAsNumber:!0})}),s.education?.[a]?.percentage&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].percentage?.message})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Passed Out Year"}),e.jsx(i,{type:"number",...c(`education.${a}.passedOutYear`,{valueAsNumber:!0})}),s.education?.[a]?.passedOutYear&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].passedOutYear?.message})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Location"}),e.jsx(i,{...c(`education.${a}.location`)}),s.education?.[a]?.location&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].location?.message})]}),["B.Tech","M.Tech","B.Pharmacy","M.Pharmacy"].includes(n)&&e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(l,{children:"Active Backlogs"}),e.jsx(i,{type:"number",...c(`education.${a}.noOfActiveBacklogs`,{valueAsNumber:!0})}),s.education?.[a]?.noOfActiveBacklogs&&e.jsx("p",{className:"text-red-600 text-sm",children:s.education[a].noOfActiveBacklogs?.message})]})]})]},d.id)}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-6",children:[e.jsx(r,{type:"button",variant:"outline",onClick:L,children:"Back"}),e.jsx(r,{type:"submit",className:"bg-brand-blue-light hover:bg-brand-blue-dark",children:"Next"})]})]})]})})})}export{J as default};
